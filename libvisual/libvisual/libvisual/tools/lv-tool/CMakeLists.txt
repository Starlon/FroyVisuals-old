SET(INCLUDE_DIRS
  ${PROJECT_SOURCE_DIR}
  ${PROJECT_BINARY_DIR}
)

SET(SOURCES
  lv-tool.cpp
  display/display.cpp
  display/display_driver_factory.cpp
  display/stdout_driver.cpp
)

SET(LINK_LIBS "")

# SDL driver
IF(SDL_FOUND)
  LIST(APPEND INCLUDE_DIRS ${SDL_INCLUDE_DIR})
  LIST(APPEND SOURCES display/sdl_driver.cpp)
  LIST(APPEND LINK_LIBS ${SDL_LIBRARY})
ENDIF(SDL_FOUND)

INCLUDE_DIRECTORIES(${INCLUDE_DIRS})

ADD_EXECUTABLE(lv-tool ${SOURCES})

TARGET_LINK_LIBRARIES(lv-tool
  libvisual
  ${LINK_LIBS}
)

INSTALL(TARGETS lv-tool RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})
